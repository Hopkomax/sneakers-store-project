{"mappings":"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","sources":["src/api/api.js","src/js/refs.js","src/js/calculateTotalPrice.js","src/js/favorites.js","src/js/createEmptyFavorites.js","src/js/createSneakersMarkup.js","src/js/handleFavorites.js","src/js/handleCart.js"],"sourcesContent":["import axios from \"axios\"\n\nconst BASE_URL = \"https://sneakers-store-project.onrender.com\";\nexport const getSneakers = async () => {\n    // variant 1\n    // const { data } = await axios.get('/contcts')\n    // return data;\n\n    // variant 2\n    // const data = await fetch(`${BASE_URL}/contacts`)\n    // return await data.json();\n\n    // variant 3\n    return fetch(`${BASE_URL}/sneakers`).then(response => response.json());\n};\nexport const findSneakers = async (query) => {\n    return fetch(`${BASE_URL}/sneakers?title_like=${query}`).then(response => response.json())\n }\n\n export const getSneakerById = async (id) => {\n    const response = await fetch(`${BASE_URL}/sneakers/${id}`);\n    return response.json();\n }\n","export default refs = {\n  priceEl: document.querySelector('.header__user__icon__cart span'),\n  // totalAmountElementInCart : document.querySelector('.sneaker__inCart__totalAmount'),\n  // taxElementInCart : document.querySelector('.sneaker__inCart__taxes')\n};\n","import refs from \"./refs\";\nconst {priceEl, totalAmountElementInCart, taxElementInCart} = refs;\n\nexport function calculateTotalPrice() {\n  const productsInCart = JSON.parse(localStorage.getItem('inCart')) || [];\n  const totalPrice = productsInCart.reduce((total, { price }) => (total += price), 0);\n  return totalPrice;\n}\n\nexport function setActualPriceIntoHeader() {\n  // const priceEl = document.querySelector('.header__user__icon__cart span');\n  let price = priceEl.textContent.split('\\n')[0];\n  price = calculateTotalPrice() + ' ' + 'грн';\n  priceEl.textContent = price;\n}\n\nexport function setActualPriceIntoCart() {\n  const priceElement = document.querySelector('.sneaker__inCart__totalAmount').lastElementChild;\n  // const priceElement = totalAmountElementInCart.lastElementChild;\n  priceElement.textContent = calculateTotalPrice() + ' ' + 'грн';\n   const taxElement = document.querySelector('.sneaker__inCart__taxes').lastElementChild;\n // const taxElement = taxElementInCart.lastElementChild;\n  taxElement.textContent = ((calculateTotalPrice() * 5) / 100 ).toFixed(2) + ' ' + 'грн';\n}\n","import createSneakersMarkup from './createSneakersMarkup';\nimport { setFavoritesOnload } from './handleFavorites';\nimport { createEmptyFavorites } from './createEmptyFavorites';\nimport { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport {getSneakerById} from '../api/api';\n\nconst list = document.querySelector('.favoritesList__list');\n\nlist.addEventListener('click', handleFavorites);\nlist.addEventListener('click', handleCart);\n\nconst favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\nif (favorites.length === 0) {\n  emptyFavorites();\n\n} else {\n  list.insertAdjacentHTML('afterbegin', createSneakersMarkup(favorites));\n  setFavoritesOnload();\n  setInCartOnload();\n}\n\nsetActualPriceIntoHeader();\n\nfunction emptyFavorites() {\n  const favoritesList = document.querySelector('.favoritesList__list');\n  favoritesList.innerHTML = createEmptyFavorites();\n}\n\nfunction handleFavorites(event) {\n  const heart = event.target;\n\n  if (heart.classList.contains('sneaker__heart__button')) {\n    const sneaker = heart.closest('li');\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (heart.classList.contains('active')) {\n      const updatedFavorites = favorites.filter(({ id }) => id !== sneaker.id);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      heart.classList.remove('active');\n      sneaker.remove();\n    }\n  }\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  if(favorites.length === 0) {\n    emptyFavorites();\n  }\n}\n\nasync function handleCart(event) {\n  const cart = event.target;\n\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n","export function createEmptyFavorites () {\n    return `<div class=\"emptyContentFavorites__wrapper\" >\n    <div class=\"emptyContentFavorites__img\">🥺</div>\n    <h3 class=\"emptyContentFavorites__title\">Favorites not found</h3>\n    <p class=\"emptyContentFavorites__text\">You have not added anything to favorites</p>\n    <div class='emptyContentFavorites__container__button'>\n    <a href=\"index.html\" class=\"emptyContentFavorites__button\">Return</a>\n    </div>\n    </div>`\n}\n","export default function createSneakersMarkup(items) {\n  const markup = items\n    .map(({ title, images, price, id }) => {\n      const formatedTitle = title.slice(0, 23) + '...';\n      return `<li class='sneaker__item' id = \"${id}\">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src=\"${images[0]}\" alt=\"${title}\">\n</div>\n<h4 class='sneaker__title'>${formatedTitle}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Ціна</p>\n        <p class='sneaker__price'>${price}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`;\n    })\n    .join(' ');\n  return markup;\n}\n","\nimport {getSneakerById} from '../api/api';\n\nexport async function handleFavorites(event) {\n  const heart = event.target;\n\n  if (heart.classList.contains('sneaker__heart__button')) {\n    const sneaker = heart.closest('li');\n    const selectedSneaker = await getSneakerById(sneaker.id) || {};\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (heart.classList.contains('active')) {\n      const updatedFavorites = favorites.filter(({ id }) => id !== sneaker.id);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      heart.classList.remove('active');\n      return;\n    }\n    heart.classList.add('active');\n    favorites.push(selectedSneaker);\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n  }\n}\n\nexport function setFavoritesOnload() {\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  for (const { id } of favorites) {\n    const item = document.getElementById(id);\n    if (!item) {\n      continue;\n    }\n\n    const heartButton = item.querySelector('.sneaker__heart__button');\n\n    heartButton.classList.add('active');\n  }\n}\n","import { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport {getSneakerById} from '../api/api';\n\nexport async function handleCart(event) {\n  const cart = event.target;\n\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n\nexport function setInCartOnload() {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n  document\n    .querySelectorAll('.sneaker__add__button.active')\n    .forEach(item => item.classList.remove('active'));\n\n  for (const { id } of inCart) {\n    const item = document.getElementById(id);\n\n    if (!item) {\n      continue;\n    }\n    // Якщо item === null (getElementById(id) не знайшов такого елементу на сторінці), то ми пропустимо ту ітерацію, і йти до наступної (continue пропускає ітерацію)\n    const cartButton = item.querySelector('.sneaker__add__button');\n    cartButton.classList.add('active');\n  }\n}\n"],"names":["$c252e6b9c2d40ab9$var$BASE_URL","$c252e6b9c2d40ab9$export$a99e8a841c7e62c1","async","id","fetch","json","$37e33676934ad046$export$2e2bcd8739ae039","refs","priceEl","document","querySelector","$c4dc7516ce444cdb$var$priceEl","totalAmountElementInCart","$c4dc7516ce444cdb$var$totalAmountElementInCart","taxElementInCart","$c4dc7516ce444cdb$var$taxElementInCart","$c4dc7516ce444cdb$export$2f5bf0322bc27d77","JSON","parse","localStorage","getItem","reduce","total","price","$c4dc7516ce444cdb$export$99770ba1c52fceae","textContent","split","$6befdf793f7dd1b0$var$list","addEventListener","event","heart","target","classList","contains","sneaker","closest","favorites","updatedFavorites","filter","setItem","stringify","remove","length","$6befdf793f7dd1b0$var$emptyFavorites","cart","sneakerId","parentNode","selectedSneaker","inCart","updatedCart","add","push","$6befdf793f7dd1b0$var$favorites","innerHTML","insertAdjacentHTML","map","title","images","formatedTitle","slice","join","item","getElementById","querySelectorAll","forEach"],"version":3,"file":"favorites.2afed3c4.js.map"}