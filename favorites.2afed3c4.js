!function(){const t="https://sneakers-store-project.onrender.com",e=async e=>(await fetch(`${t}/sneakers/${e}`)).json();var n=refs={priceEl:document.querySelector(".header__user__icon__cart span")};const{priceEl:s,totalAmountElementInCart:a,taxElementInCart:i}=n;function r(){return(JSON.parse(localStorage.getItem("inCart"))||[]).reduce(((t,{price:e})=>t+e),0)}function o(){let t=s.textContent.split("\n")[0];t=r()+" Ð³Ñ€Ð½",s.textContent=t}const c=document.querySelector(".favoritesList__list");c.addEventListener("click",(function(t){const e=t.target;if(e.classList.contains("sneaker__heart__button")){const t=e.closest("li"),n=JSON.parse(localStorage.getItem("favorites"))||[];if(e.classList.contains("active")){const s=n.filter((({id:e})=>e!==t.id));localStorage.setItem("favorites",JSON.stringify(s)),e.classList.remove("active"),t.remove()}}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length&&_()})),c.addEventListener("click",(async function(t){const n=t.target;if(n.classList.contains("sneaker__add__button")){const t=n.parentNode.parentNode.id,s=await e(t)||{},a=JSON.parse(localStorage.getItem("inCart"))||[];if(n.classList.contains("active")){const e=a.filter((({id:e})=>e!==t));return localStorage.setItem("inCart",JSON.stringify(e)),n.classList.remove("active"),void o()}n.classList.add("active"),a.push(s),localStorage.setItem("inCart",JSON.stringify(a)),o()}}));const l=JSON.parse(localStorage.getItem("favorites"))||[];function _(){document.querySelector(".favoritesList__list").innerHTML='<div class="emptyContentFavorites__wrapper" >\n    <div class="emptyContentFavorites__img">ðŸ¥º</div>\n    <h3 class="emptyContentFavorites__title">Favorites not found</h3>\n    <p class="emptyContentFavorites__text">You have not added anything to favorites</p>\n    <div class=\'emptyContentFavorites__container__button\'>\n    <a href="index.html" class="emptyContentFavorites__button">Return</a>\n    </div>\n    </div>'}0===l.length?_():(c.insertAdjacentHTML("afterbegin",l.map((({title:t,images:e,price:n,id:s})=>{const a=t.slice(0,23)+"...";return`<li class='sneaker__item' id = "${s}">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src="${e[0]}" alt="${t}">\n</div>\n<h4 class='sneaker__title'>${a}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Ð¦Ñ–Ð½Ð°</p>\n        <p class='sneaker__price'>${n}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`})).join(" ")),function(){const t=JSON.parse(localStorage.getItem("favorites"))||[];for(const{id:e}of t){const t=document.getElementById(e);t&&t.querySelector(".sneaker__heart__button").classList.add("active")}}(),function(){const t=JSON.parse(localStorage.getItem("inCart"))||[];document.querySelectorAll(".sneaker__add__button.active").forEach((t=>t.classList.remove("active")));for(const{id:e}of t){const t=document.getElementById(e);t&&t.querySelector(".sneaker__add__button").classList.add("active")}}()),o()}();
//# sourceMappingURL=favorites.2afed3c4.js.map
