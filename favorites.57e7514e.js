!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire7084;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequire7084=o);const a="https://sneakers-store-project.onrender.com",s=async e=>(await fetch(`${a}/sneakers/${e}`)).json();var r=o("cEKo3");o("19hka");var c=o("gTT0W");c=o("gTT0W"),r=o("cEKo3");function i(){r.db.firestore().collection("cart").where("userId","==",r.db.auth().currentUser.uid).onSnapshot((e=>{const t=e.docs.map((e=>e.data()))||[];document.querySelectorAll(".sneaker__add__button.active").forEach((e=>e.classList.remove("active")));for(const{id:e}of t){const t=document.getElementById(e);if(!t)continue;t.querySelector(".sneaker__add__button").classList.add("active")}}),(e=>{console.log("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:",e)}))}o("19hka");c=o("gTT0W");const l=document.querySelector(".theme__switch");c=o("gTT0W");var d=o("aROVc");function _(){const e=localStorage.getItem("inCart");let t=localStorage.getItem("purchases");if(t=t?JSON.parse(t):[],e){const n=t.concat(JSON.parse(e));localStorage.setItem("purchases",JSON.stringify(n))}localStorage.removeItem("inCart"),document.querySelector(".cartList__container").innerHTML='\n    <div class="emptyContentOrder__wrapper" >\n    <div class="emptyContentOrder__img"></div>\n    <h3 class="emptyContentOrder__title">Order is processed!</h3>\n    <p class="emptyContentOrder__text">Your order will be delivered to courier soon</p>\n    <div class=\'emptyContentOrder__container__button\'>\n    <a href="index.html" class="emptyContentOrder__button">Return</a>\n    </div>\n    </div>'}function u(){document.querySelector(".cartList").innerHTML='\n  <div class="cartList__container">\n    <div class="cart__container__top__blok">\n    <h2 class="cartList__title">Cart</h2>\n    <ul class="cartList__list"></ul>\n</div>\n    <div class="cart__container__bottom__blok">\n      <div class="sneaker__inCart__totalAmount">\n        <p>Total</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="sneaker__inCart__taxes">\n        <p>VAT 5%</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="cart__container__button__blok">\n        <button class="cart__container__button">Make order</button>\n      </div>\n    </div>\n  </div>';const e=document.querySelector(".cartList__list"),t=document.querySelector(".cart__container__button");e.addEventListener("click",d.handleDelete),t.addEventListener("click",_)}var m=o("sLsIj");r=o("cEKo3");o("19hka");let v=null;const p=document.querySelector("#modal-backdrop"),g=document.querySelector(".cartList");let f=null;function y(e){e.target.closest(".header__user__icon__cart")&&(u(),v=document.querySelector(".cartList__list"),g.classList.add("active"),p.classList.remove("hidden"),document.body.style.overflow="hidden",(0,c.setActualPriceIntoCart)(),f=r.db.firestore().collection("cart").where("userId","==",r.db.auth().currentUser.uid).onSnapshot((e=>{const t=e.docs.map((e=>e.data()))||[];if(console.log(t),0===t.length){document.querySelector(".cartList__container").innerHTML=(0,m.default)()}else v.innerHTML=t.map((({title:e,images:t,price:n,id:o})=>`\n      <li class='sneaker__inCart__item'id=${o}>\n      <img class='sneaker__inCart__img' src="${t[0]}" alt="${e}">\n      <div class='sneaker__inCart__description'>\n          <h3>${e}</h3>\n          <p>${n} UAH</p>\n      </div>\n      <div class='sneaker__inCart__button'>\n          <span class='sneaker__inCart__button-span'>x</span>\n      </div>\n  </li>`)).join(" ")}),(e=>{console.log("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:",e)}))),e.target.matches("#modal-backdrop")&&(v.innerHTML="",h(g),(0,c.setActualPriceIntoHeader)(),i())}function h(e){e.classList.remove("active"),p.classList.add("hidden"),document.body.style.overflow="visible"}document.addEventListener("click",y),document.addEventListener("keydown",(function(e){"Escape"===e.key&&h(g)}));const L=document.querySelector("#navToggle"),k=(document.querySelector("#navClosed"),document.querySelector("#navOpen")),S=document.querySelectorAll(".navIcon"),b=document.querySelector("nav");L.addEventListener("click",(()=>{b.classList.toggle("open"),document.body.style.overflow=b.classList.contains("open")?"hidden":"auto",S.forEach((e=>{e.classList.toggle("hidden")}))})),window.addEventListener("resize",(()=>{document.body.clientWidth>1200&&(b.classList.remove("open"),S.forEach((e=>{e.classList.remove("hidden")})),k.classList.add("hidden"),document.body.style.overflow="auto")}),{passive:!1});r=o("cEKo3");const q=document.querySelector(".header__user__icon__user"),C=document.querySelector(".modal-auth__backdrop"),E=document.querySelector(".close"),w=document.querySelector(".auth__form"),I=document.querySelector(".username__form"),O=I.querySelector('input[name="name"]'),T=document.querySelector(".action__text"),x=document.querySelector(".btn__change__form"),A=document.querySelector(".form__title");let N=!0;const H=document.querySelector("[data-action]").dataset.action,$=document.querySelector(".header__user__user__name");function J(){console.log("openModal1"),C.classList.add("open"),E.addEventListener("click",M),q.removeEventListener("click",J),document.body.style.overflow="hidden"}function M(){C.classList.remove("open"),E.removeEventListener("click",M),q.addEventListener("click",J),document.body.style.overflow="visible"}console.log(H),q.addEventListener("click",J),w.addEventListener("submit",(async function(e){e.preventDefault();const t=[...w.elements].reduce(((e,t)=>(t.name&&(e[t.name]=t.value),e)),{});N?(await(0,r.createUser)(t),console.log("rege"),await(0,r.signIn)(t)):N||(await(0,r.signIn)(t),console.log("log_in")),w.reset();const n=await r.db.auth().currentUser;console.log(n),$.textContent=n.displayName})),x.addEventListener("click",(function(){N?(x.textContent="Registration",I.classList.add("hiden"),x.setAttribute("data-action","log_in"),A.textContent="Log in",T.textContent="Don`t have account?",O.removeAttribute("required"),w.reset(),N=!1):(x.textContent="Log in",x.setAttribute("data-action","reg"),I.classList.remove("hiden"),A.textContent="Registration",T.textContent="Already have account?",w.reset(),N=!0)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&M()})),C.addEventListener("click",(function(e){e.target===C&&M()})),function(){const e=localStorage.getItem("theme");document.body.classList.add(e),"dark"===e&&(l.checked=!0)}(),document.querySelector(".theme__switch").addEventListener("change",(function(){console.log(l.checked),l.checked?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))})),document.addEventListener("click",y);document.querySelector(".header__user__icon__user").addEventListener("click",J);const U=document.querySelector(".favoritesList__list");U.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("sneaker__heart__button")){const e=t.closest("li"),n=JSON.parse(localStorage.getItem("favorites"))||[];if(t.classList.contains("active")){const o=n.filter((({id:t})=>t!==e.id));localStorage.setItem("favorites",JSON.stringify(o)),t.classList.remove("active"),e.remove()}}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length&&R()})),U.addEventListener("click",(async function(e){const t=e.target;if(t.classList.contains("sneaker__add__button")){const e=t.parentNode.parentNode.id,n=await s(e)||{},o=JSON.parse(localStorage.getItem("inCart"))||[];if(t.classList.contains("active")){const n=o.filter((({id:t})=>t!==e));return localStorage.setItem("inCart",JSON.stringify(n)),t.classList.remove("active"),void(0,c.setActualPriceIntoHeader)()}t.classList.add("active"),o.push(n),localStorage.setItem("inCart",JSON.stringify(o)),(0,c.setActualPriceIntoHeader)()}}));const F=JSON.parse(localStorage.getItem("favorites"))||[];function R(){document.querySelector(".favoritesList__list").innerHTML='<div class="emptyContentFavorites__wrapper" >\n    <div class="emptyContentFavorites__img">ü•∫</div>\n    <h3 class="emptyContentFavorites__title">Favorites not found</h3>\n    <p class="emptyContentFavorites__text">You have not added anything to favorites</p>\n    <div class=\'emptyContentFavorites__container__button\'>\n    <a href="index.html" class="emptyContentFavorites__button">Return</a>\n    </div>\n    </div>'}0===F.length?R():(U.insertAdjacentHTML("afterbegin",F.map((({title:e,images:t,price:n,id:o})=>{const a=e.slice(0,23)+"...";return`<li class='sneaker__item' id = "${o}">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src="${t[0]}" alt="${e}">\n</div>\n<h4 class='sneaker__title'>${a}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Price</p>\n        <p class='sneaker__price'>${n}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`})).join(" ")),function(){const e=JSON.parse(localStorage.getItem("favorites"))||[];for(const{id:t}of e){const e=document.getElementById(t);e&&e.querySelector(".sneaker__heart__button").classList.add("active")}}(),i()),(0,c.setActualPriceIntoHeader)()}();
//# sourceMappingURL=favorites.57e7514e.js.map
