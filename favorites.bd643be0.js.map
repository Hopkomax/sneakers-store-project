{"mappings":"AAEA,MAAMA,EAAW,8CAiBHC,EAAiBC,MAAOC,UACXC,MAAM,GAAGJ,cAAqBG,MACrCE,OCpBb,SAASC,IAGd,OAFuBC,KAAKC,MAAMC,aAAaC,QAAQ,YAAc,IACnCC,QAAO,CAACC,GAAOC,MAAEA,KAAaD,EAASC,GAAQ,EAEnF,CAEO,SAASC,IACd,MAAMC,EAAUC,SAASC,cAAc,kCACvC,IAAIJ,EAAQE,EAAQG,YAAYC,MAAM,MAAM,GAC5CN,EAAQP,WACRS,EAAQG,YAAcL,CACxB,CCLA,MAAMO,EAAOJ,SAASC,cAAc,wBAEpCG,EAAKC,iBAAiB,SAqBtB,SAAyBC,GACvB,MAAMC,EAAQD,EAAME,OAEpB,GAAID,EAAME,UAAUC,SAAS,0BAA2B,CACtD,MAAMC,EAAUJ,EAAMK,QAAQ,MACxBC,EAAYtB,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAEnE,GAAIa,EAAME,UAAUC,SAAS,UAAW,CACtC,MAAMI,EAAmBD,EAAUE,QAAO,EAAC5B,GAAEA,KAASA,IAAOwB,EAAQxB,KACrEM,aAAauB,QAAQ,YAAazB,KAAK0B,UAAUH,IACjDP,EAAME,UAAUS,OAAO,UACvBP,EAAQO,QACV,CACF,CAGwB,KAFN3B,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,IAEtDyB,QACXC,GAEJ,IAvCAhB,EAAKC,iBAAiB,SAyCtBnB,eAA0BoB,GACxB,MAAMe,EAAOf,EAAME,OAEnB,GAAIa,EAAKZ,UAAUC,SAAS,wBAAyB,CACnD,MAAMY,EAAYD,EAAKE,WAAWA,WAAWpC,GACvCqC,QAAwBvC,EAAeqC,IAAc,CAAC,EACtDG,EAASlC,KAAKC,MAAMC,aAAaC,QAAQ,YAAc,GAE7D,GAAI2B,EAAKZ,UAAUC,SAAS,UAAW,CACrC,MAAMgB,EAAcD,EAAOV,QAAO,EAAC5B,GAAEA,KAASA,IAAOmC,IAIrD,OAHA7B,aAAauB,QAAQ,SAAUzB,KAAK0B,UAAUS,IAC9CL,EAAKZ,UAAUS,OAAO,eACtBpB,GAEF,CACAuB,EAAKZ,UAAUkB,IAAI,UACnBF,EAAOG,KAAKJ,GACZ/B,aAAauB,QAAQ,SAAUzB,KAAK0B,UAAUQ,IAC9C3B,GACF,CACF,IA3DA,MAAM+B,EAAYtC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAanE,SAAS0B,IACepB,SAASC,cAAc,wBAC/B6B,UC1BL,saD2BX,CAdyB,IAArBD,EAAUV,OACZC,KAGAhB,EAAK2B,mBAAmB,aAAmCF,EEhBxDG,KAAI,EAACC,MAAEA,EAAKC,OAAEA,EAAMrC,MAAEA,EAAKV,GAAEA,MAC5B,MAAMgD,EAAgBF,EAAMG,MAAM,EAAG,IAAM,MAC3C,MAAO,mCAAmCjD,iHAIhC+C,EAAO,YAAYD,2CAENE,oLAIOtC,yIAM9B,IAEDwC,KAAK,MCCH,WACL,MAAMxB,EAAYtB,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAEnE,IAAK,MAAMP,GAAEA,KAAQ0B,EAAW,CAC9B,MAAMyB,EAAOtC,SAASuC,eAAepD,GAChCmD,GAIeA,EAAKrC,cAAc,2BAE3BQ,UAAUkB,IAAI,SAC5B,CACF,CHjBE,GIMK,WACL,MAAMF,EAASlC,KAAKC,MAAMC,aAAaC,QAAQ,YAAc,GAE7DM,SACGwC,iBAAiB,gCACjBC,SAAQH,GAAQA,EAAK7B,UAAUS,OAAO,YAEzC,IAAK,MAAM/B,GAAEA,KAAQsC,EAAQ,CAC3B,MAAMa,EAAOtC,SAASuC,eAAepD,GAEhCmD,GAIcA,EAAKrC,cAAc,yBAC3BQ,UAAUkB,IAAI,SAC3B,CACF,CJtBE,IAGF7B","sources":["src/api/api.js","src/js/calculateTotalPrice.js","src/js/favorites.js","src/js/createEmptyFavorites.js","src/js/createSneakersMarkup.js","src/js/handleFavorites.js","src/js/handleCart.js"],"sourcesContent":["import axios from \"axios\"\n\nconst BASE_URL = \"https://sneakers-store-project.onrender.com\";\nexport const getSneakers = async () => {\n    // variant 1\n    // const { data } = await axios.get('/contcts')\n    // return data;\n\n    // variant 2\n    // const data = await fetch(`${BASE_URL}/contacts`)\n    // return await data.json();\n\n    // variant 3\n    return fetch(`${BASE_URL}/sneakers`).then(response => response.json());\n};\nexport const findSneakers = async (query) => {\n    return fetch(`${BASE_URL}/sneakers?title_like=${query}`).then(response => response.json())\n }\n\n export const getSneakerById = async (id) => {\n    const response = await fetch(`${BASE_URL}/sneakers/${id}`);\n    return response.json();\n }\n","\nexport function calculateTotalPrice() {\n  const productsInCart = JSON.parse(localStorage.getItem('inCart')) || [];\n  const totalPrice = productsInCart.reduce((total, { price }) => (total += price), 0);\n  return totalPrice;\n}\n\nexport function setActualPriceIntoHeader() {\n  const priceEl = document.querySelector('.header__user__icon__cart span');\n  let price = priceEl.textContent.split('\\n')[0];\n  price = calculateTotalPrice() + ' ' + 'грн';\n  priceEl.textContent = price;\n}\n\nexport function setActualPriceIntoCart() {\n  const priceElement = document.querySelector('.sneaker__inCart__totalAmount').lastElementChild;\n  // const priceElement = totalAmountElementInCart.lastElementChild;\n  priceElement.textContent = calculateTotalPrice() + ' ' + 'грн';\n   const taxElement = document.querySelector('.sneaker__inCart__taxes').lastElementChild;\n // const taxElement = taxElementInCart.lastElementChild;\n  taxElement.textContent = ((calculateTotalPrice() * 5) / 100 ).toFixed(2) + ' ' + 'грн';\n}\n","import createSneakersMarkup from './createSneakersMarkup';\nimport { setFavoritesOnload } from './handleFavorites';\nimport { createEmptyFavorites } from './createEmptyFavorites';\nimport { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport {getSneakerById} from '../api/api';\n\nconst list = document.querySelector('.favoritesList__list');\n\nlist.addEventListener('click', handleFavorites);\nlist.addEventListener('click', handleCart);\n\nconst favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\nif (favorites.length === 0) {\n  emptyFavorites();\n\n} else {\n  list.insertAdjacentHTML('afterbegin', createSneakersMarkup(favorites));\n  setFavoritesOnload();\n  setInCartOnload();\n}\n\nsetActualPriceIntoHeader();\n\nfunction emptyFavorites() {\n  const favoritesList = document.querySelector('.favoritesList__list');\n  favoritesList.innerHTML = createEmptyFavorites();\n}\n\nfunction handleFavorites(event) {\n  const heart = event.target;\n\n  if (heart.classList.contains('sneaker__heart__button')) {\n    const sneaker = heart.closest('li');\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (heart.classList.contains('active')) {\n      const updatedFavorites = favorites.filter(({ id }) => id !== sneaker.id);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      heart.classList.remove('active');\n      sneaker.remove();\n    }\n  }\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  if(favorites.length === 0) {\n    emptyFavorites();\n  }\n}\n\nasync function handleCart(event) {\n  const cart = event.target;\n\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n","export function createEmptyFavorites () {\n    return `<div class=\"emptyContentFavorites__wrapper\" >\n    <div class=\"emptyContentFavorites__img\">🥺</div>\n    <h3 class=\"emptyContentFavorites__title\">Favorites not found</h3>\n    <p class=\"emptyContentFavorites__text\">You have not added anything to favorites</p>\n    <div class='emptyContentFavorites__container__button'>\n    <a href=\"index.html\" class=\"emptyContentFavorites__button\">Return</a>\n    </div>\n    </div>`\n}\n","export default function createSneakersMarkup(items) {\n  const markup = items\n    .map(({ title, images, price, id }) => {\n      const formatedTitle = title.slice(0, 23) + '...';\n      return `<li class='sneaker__item' id = \"${id}\">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src=\"${images[0]}\" alt=\"${title}\">\n</div>\n<h4 class='sneaker__title'>${formatedTitle}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Ціна</p>\n        <p class='sneaker__price'>${price}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`;\n    })\n    .join(' ');\n  return markup;\n}\n","\nimport {getSneakerById} from '../api/api';\n\nexport async function handleFavorites(event) {\n  const heart = event.target;\n\n  if (heart.classList.contains('sneaker__heart__button')) {\n    const sneaker = heart.closest('li');\n    const selectedSneaker = await getSneakerById(sneaker.id) || {};\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (heart.classList.contains('active')) {\n      const updatedFavorites = favorites.filter(({ id }) => id !== sneaker.id);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      heart.classList.remove('active');\n      return;\n    }\n    heart.classList.add('active');\n    favorites.push(selectedSneaker);\n    localStorage.setItem('favorites', JSON.stringify(favorites));\n  }\n}\n\nexport function setFavoritesOnload() {\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  for (const { id } of favorites) {\n    const item = document.getElementById(id);\n    if (!item) {\n      continue;\n    }\n\n    const heartButton = item.querySelector('.sneaker__heart__button');\n\n    heartButton.classList.add('active');\n  }\n}\n","import { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport {getSneakerById} from '../api/api';\n\nexport async function handleCart(event) {\n  const cart = event.target;\n\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n\nexport function setInCartOnload() {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n  document\n    .querySelectorAll('.sneaker__add__button.active')\n    .forEach(item => item.classList.remove('active'));\n\n  for (const { id } of inCart) {\n    const item = document.getElementById(id);\n\n    if (!item) {\n      continue;\n    }\n    // Якщо item === null (getElementById(id) не знайшов такого елементу на сторінці), то ми пропустимо ту ітерацію, і йти до наступної (continue пропускає ітерацію)\n    const cartButton = item.querySelector('.sneaker__add__button');\n    cartButton.classList.add('active');\n  }\n}\n"],"names":["$c52960a56fc4a999$var$BASE_URL","$c52960a56fc4a999$export$a99e8a841c7e62c1","async","id","fetch","json","$057d9e3aee8069bd$export$2f5bf0322bc27d77","JSON","parse","localStorage","getItem","reduce","total","price","$057d9e3aee8069bd$export$99770ba1c52fceae","priceEl","document","querySelector","textContent","split","$7f07f86ee49d81c7$var$list","addEventListener","event","heart","target","classList","contains","sneaker","closest","favorites","updatedFavorites","filter","setItem","stringify","remove","length","$7f07f86ee49d81c7$var$emptyFavorites","cart","sneakerId","parentNode","selectedSneaker","inCart","updatedCart","add","push","$7f07f86ee49d81c7$var$favorites","innerHTML","insertAdjacentHTML","map","title","images","formatedTitle","slice","join","item","getElementById","querySelectorAll","forEach"],"version":3,"file":"favorites.bd643be0.js.map"}