{"mappings":"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","sources":["src/js/themeSwitch.js","src/js/handleCart.js","src/js/createMarkupFunctions/createCartMarkup.js","src/js/createMarkupFunctions/createMakeOrderMarkup.js","src/js/displayCart.js","src/js/createMarkupFunctions/createSneakersMarkupInCart.js","src/js/purchases.js","src/js/createMarkupFunctions/createEmptyPurchases.js","src/js/createMarkupFunctions/createPurchasesMarkup.js"],"sourcesContent":["const switchElement = document.querySelector('.theme__switch');\n\nexport function themeSwitch() {\n  console.log(switchElement.checked);\n  if (switchElement.checked) {\n    document.body.classList.add('dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.body.classList.remove('dark');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\nexport function setThemeOnLoad() {\n  const currentTheme = localStorage.getItem('theme');\n  document.body.classList.add(currentTheme);\n\n  if (currentTheme === 'dark') {\n    switchElement.checked = true;\n  }\n}\n","import { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport {getSneakerById} from '../api/api';\n\nexport async function handleCart(event) {\n  const cart = event.target;\nconsole.log(cart);\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\nconsole.log(inCart);\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      console.log(updatedCart);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      console.log(cart);\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n\nexport function setInCartOnload() {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n  document\n    .querySelectorAll('.sneaker__add__button.active')\n    .forEach(item => item.classList.remove('active'));\n\n  for (const { id } of inCart) {\n    const item = document.getElementById(id);\n\n    if (!item) {\n      continue;\n    }\n    // Якщо item === null (getElementById(id) не знайшов такого елементу на сторінці), то ми пропустимо ту ітерацію, і йти до наступної (continue пропускає ітерацію)\n    const cartButton = item.querySelector('.sneaker__add__button');\n    cartButton.classList.add('active');\n  }\n}\n","import { handleDelete } from '../deleteItemInCart';\nimport createMakeOrderMarkup from './createMakeOrderMarkup';\n\nexport default function createCartMarkup() {\n  document.querySelector('.cartList').innerHTML = `\n  <div class=\"cartList__container\">\n    <div class=\"cart__container__top__blok\">\n    <h2 class=\"cartList__title\">Cart</h2>\n    <ul class=\"cartList__list\"></ul>\n</div>\n    <div class=\"cart__container__bottom__blok\">\n      <div class=\"sneaker__inCart__totalAmount\">\n        <p>Total</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class=\"sneaker__inCart__taxes\">\n        <p>VAT 5%</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class=\"cart__container__button__blok\">\n        <button class=\"cart__container__button\">Make order</button>\n      </div>\n    </div>\n  </div>`;\n  \n  const cartList = document.querySelector('.cartList__list');\n  const makeOrderButton = document.querySelector('.cart__container__button');\n\n  cartList.addEventListener('click', handleDelete);\n  makeOrderButton.addEventListener('click', createMakeOrderMarkup);\n}\n","export default function createMakeOrderMarkup() {\n\n  const inCartItems = localStorage.getItem('inCart');\n  let purchasesItems = localStorage.getItem('purchases');\n\n  if (!purchasesItems) {\n    purchasesItems = []; // Initialize as an empty array if purchasesItems is null or empty\n  } else {\n    purchasesItems = JSON.parse(purchasesItems); // Parse the stringified array\n  }\n\n  if (inCartItems) {\n    const combinedItems = purchasesItems.concat(JSON.parse(inCartItems));\n    localStorage.setItem('purchases', JSON.stringify(combinedItems));\n  }\n\n  localStorage.removeItem('inCart');\n  document.querySelector('.cartList__container').innerHTML = `\n    <div class=\"emptyContentOrder__wrapper\" >\n    <div class=\"emptyContentOrder__img\"></div>\n    <h3 class=\"emptyContentOrder__title\">Order is processed!</h3>\n    <p class=\"emptyContentOrder__text\">Your order will be delivered to courier soon</p>\n    <div class='emptyContentOrder__container__button'>\n    <a href=\"index.html\" class=\"emptyContentOrder__button\">Return</a>\n    </div>\n    </div>`;\n\n}\n","import createSneakersMarkupInCart from './createMarkupFunctions/createSneakersMarkupInCart';\nimport { setActualPriceIntoCart, setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport createCartMarkup from './createMarkupFunctions/createCartMarkup';\nimport createEmptyCart from './createMarkupFunctions/createEmptyCart';\n\nlet list = null;\nconst backdrop = document.querySelector('#modal-backdrop');\nconst modalCart = document.querySelector('.cartList');\n\ndocument.addEventListener('click', modalHandler);\n\nexport function modalHandler(evt) {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n  const modalBtnOpen = evt.target.closest('.header__user__icon__cart');\n\n  if (modalBtnOpen) {\n    createCartMarkup();\n\n    list = document.querySelector('.cartList__list');\n  \n    // open btn click\n    showModal(modalCart);\n    setActualPriceIntoCart();\n\n    if (inCart.length === 0) {\n      const cart = document.querySelector('.cartList__container');\n      cart.innerHTML = createEmptyCart();\n    } else {\n      list.innerHTML = createSneakersMarkupInCart(inCart);\n    }\n  }\n\n  if (evt.target.matches('#modal-backdrop')) {\n    list.innerHTML = '';\n    hideModal(modalCart);\n    setActualPriceIntoHeader();\n    setInCartOnload();\n  }\n}\n\nexport function showModal(modalElem) {\n  modalElem.classList.add('active');\n  backdrop.classList.remove('hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nexport function hideModal(modalElem) {\n  modalElem.classList.remove('active');\n  backdrop.classList.add('hidden');\n  document.body.style.overflow = 'visible';\n}\n","export default function createSneakersMarkupInCart(items) {\n  const markup = items\n    .map(({ title, images, price, id }) => {\n      return `\n      <li class='sneaker__inCart__item'id=${id}>\n      <img class='sneaker__inCart__img' src=\"${images[0]}\" alt=\"${title}\">\n      <div class='sneaker__inCart__description'>\n          <h3>${title}</h3>\n          <p>${price} UAH</p>\n      </div>\n      <div class='sneaker__inCart__button'>\n          <span class='sneaker__inCart__button-span'>x</span>\n      </div>\n  </li>`;\n    })\n    .join(' ');\n  return markup;\n}\n","import createSneakersMarkup from './createMarkupFunctions/createSneakersMarkup';\nimport { themeSwitch, setThemeOnLoad } from './themeSwitch';\nimport { modalHandler } from './displayCart';\nimport { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport createPurchasesMarkup from './createMarkupFunctions/createPurchasesMarkup';\nimport createSneakersMarkupInCart from './createMarkupFunctions/createSneakersMarkupInCart';\nimport { createEmptyPurchases } from './createMarkupFunctions/createEmptyPurchases';\nconst list = document.querySelector('.purchasesList__list');\n\nsetThemeOnLoad();\nsetActualPriceIntoHeader();\n\ndocument.querySelector('.theme__switch').addEventListener('change', themeSwitch);\n\nconst purchases = JSON.parse(localStorage.getItem('purchases')) || [];\nif(purchases.length === 0){\n  emptyPurchases();\n} else{\nlist.insertAdjacentHTML('afterbegin', createPurchasesMarkup(purchases));\n}\nfunction emptyPurchases() {\n  const purchasesList = document.querySelector('.purchasesList__list');\n  purchasesList.innerHTML = createEmptyPurchases();\n}\n","export function createEmptyPurchases () {\n    return `<div class=\"emptyContentPurchases__wrapper\" >\n    <div class=\"emptyContentPurchases__img\">🥺</div>\n    <h3 class=\"emptyContentPurchases__title\">Purchases not found</h3>\n    <p class=\"emptyContentPurchases__text\">You have not added anything to Purchases</p>\n    <div class='emptyContentPurchases__container__button'>\n    <a href=\"index.html\" class=\"emptyContentPurchases__button\">Return</a>\n    </div>\n    </div>`\n}","export default function createPurchasesMarkup(items) {\n  const markup = items\n  .map(({ title, images, price, id }) => {\n    return `\n    <li class='sneaker__InPurchases__item'id=${id}>\n    <img class='sneaker__InPurchases__img' src=\"${images[0]}\" alt=\"${title}\">\n    <div class='sneaker__InPurchases__description'>\n        <h3>${title}</h3>\n        <p>${price} UAH</p>\n    </div>\n</li>`;\n  })\n  .join(' ');\nreturn markup;\n}"],"names":["$835edf57c3be19f6$var$switchElement","document","querySelector","$gTT0W","parcelRequire","$3c3e4ff0d3a449ba$export$f43df08f77b54999","inCart","JSON","parse","localStorage","getItem","querySelectorAll","forEach","item","classList","remove","id","getElementById","add","$aROVc","$e5bdbf7e43311375$export$2e2bcd8739ae039","inCartItems","purchasesItems","combinedItems","concat","setItem","stringify","removeItem","innerHTML","$3429ac0e41866916$export$2e2bcd8739ae039","cartList","makeOrderButton","addEventListener","handleDelete","$7e213f0fa6007110$var$list","$7e213f0fa6007110$var$backdrop","$7e213f0fa6007110$var$modalCart","evt","target","closest","body","style","overflow","setActualPriceIntoCart","length","$sLsIj","default","map","title","images","price","join","matches","modalElem","$7e213f0fa6007110$export$af4939467128bcd0","setActualPriceIntoHeader","$f2bdc3565cf5c637$var$list","currentTheme","checked","console","log","$f2bdc3565cf5c637$var$purchases","insertAdjacentHTML"],"version":3,"file":"purchases.08178b9a.js.map"}