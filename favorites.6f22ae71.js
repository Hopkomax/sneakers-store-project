function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequire7084;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequire7084=s),s.register("gVub0",(function(t,n){e(t.exports,"getSneakers",(function(){return s})),e(t.exports,"findSneakers",(function(){return r})),e(t.exports,"getSneakerById",(function(){return i}));const a="https://sneakers-store-project.onrender.com",s=async()=>(await fetch(`${a}/sneakers`)).json(),r=async e=>(await fetch(`${a}/sneakers?title_like=${e}`)).json(),i=async e=>(await fetch(`${a}/sneakers/${e}`)).json()}));var r=s("l1ee7");var i=s("te3Zi"),o=(i=s("te3Zi"),s("gVub0"));function c(){const e=JSON.parse(localStorage.getItem("inCart"))||[];document.querySelectorAll(".sneaker__add__button.active").forEach((e=>e.classList.remove("active")));for(const{id:t}of e){const e=document.getElementById(t);if(!e)continue;e.querySelector(".sneaker__add__button").classList.add("active")}}o=s("gVub0"),i=s("te3Zi");const l=document.querySelector(".theme__switch");i=s("te3Zi");var d=s("3kuOs");function _(){const e=localStorage.getItem("inCart");let t=localStorage.getItem("purchases");if(t=t?JSON.parse(t):[],e){const n=t.concat(JSON.parse(e));localStorage.setItem("purchases",JSON.stringify(n))}localStorage.removeItem("inCart"),document.querySelector(".cartList__container").innerHTML='\n    <div class="emptyContentOrder__wrapper" >\n    <div class="emptyContentOrder__img"></div>\n    <h3 class="emptyContentOrder__title">Order is processed!</h3>\n    <p class="emptyContentOrder__text">Your order will be delivered to courier soon</p>\n    <div class=\'emptyContentOrder__container__button\'>\n    <a href="index.html" class="emptyContentOrder__button">Return</a>\n    </div>\n    </div>'}function u(){document.querySelector(".cartList").innerHTML='\n  <div class="cartList__container">\n    <div class="cart__container__top__blok">\n    <h2 class="cartList__title">Cart</h2>\n    <ul class="cartList__list"></ul>\n</div>\n    <div class="cart__container__bottom__blok">\n      <div class="sneaker__inCart__totalAmount">\n        <p>Total</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="sneaker__inCart__taxes">\n        <p>VAT 5%</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="cart__container__button__blok">\n        <button class="cart__container__button">Make order</button>\n      </div>\n    </div>\n  </div>';const e=document.querySelector(".cartList__list"),t=document.querySelector(".cart__container__button");e.addEventListener("click",d.handleDelete),t.addEventListener("click",_)}var v=s("rXRcA");let p=null;const m=document.querySelector("#modal-backdrop"),f=document.querySelector(".cartList");function g(e){const t=JSON.parse(localStorage.getItem("inCart"))||[];if(e.target.closest(".header__user__icon__cart"))if(u(),p=document.querySelector(".cartList__list"),f.classList.add("active"),m.classList.remove("hidden"),document.body.style.overflow="hidden",(0,i.setActualPriceIntoCart)(),0===t.length){document.querySelector(".cartList__container").innerHTML=(0,v.default)()}else p.innerHTML=t.map((({title:e,images:t,price:n,id:a})=>`\n      <li class='sneaker__inCart__item'id=${a}>\n      <img class='sneaker__inCart__img' src="${t[0]}" alt="${e}">\n      <div class='sneaker__inCart__description'>\n          <h3>${e}</h3>\n          <p>${n} UAH</p>\n      </div>\n      <div class='sneaker__inCart__button'>\n          <span class='sneaker__inCart__button-span'>x</span>\n      </div>\n  </li>`)).join(" ");e.target.matches("#modal-backdrop")&&(p.innerHTML="",function(e){e.classList.remove("active"),m.classList.add("hidden"),document.body.style.overflow="visible"}(f),(0,i.setActualPriceIntoHeader)(),c())}document.addEventListener("click",g),s("3oIZ9");var h=s("YKZfX");!function(){const e=localStorage.getItem("theme");document.body.classList.add(e),"dark"===e&&(l.checked=!0)}(),document.querySelector(".theme__switch").addEventListener("change",(function(){console.log(l.checked),l.checked?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))})),document.addEventListener("click",g);document.querySelector(".header__user__icon__user").addEventListener("click",h.openModal);const k=document.querySelector(".favoritesList__list");k.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("sneaker__heart__button")){const e=t.closest("li"),n=JSON.parse(localStorage.getItem("favorites"))||[];if(t.classList.contains("active")){const a=n.filter((({id:t})=>t!==e.id));localStorage.setItem("favorites",JSON.stringify(a)),t.classList.remove("active"),e.remove()}}0===(JSON.parse(localStorage.getItem("favorites"))||[]).length&&S()})),k.addEventListener("click",(async function(e){const t=e.target;if(t.classList.contains("sneaker__add__button")){const e=t.parentNode.parentNode.id,n=await(0,o.getSneakerById)(e)||{},a=JSON.parse(localStorage.getItem("inCart"))||[];if(t.classList.contains("active")){const n=a.filter((({id:t})=>t!==e));return localStorage.setItem("inCart",JSON.stringify(n)),t.classList.remove("active"),void(0,i.setActualPriceIntoHeader)()}t.classList.add("active"),a.push(n),localStorage.setItem("inCart",JSON.stringify(a)),(0,i.setActualPriceIntoHeader)()}}));const y=JSON.parse(localStorage.getItem("favorites"))||[];function S(){document.querySelector(".favoritesList__list").innerHTML='<div class="emptyContentFavorites__wrapper" >\n    <div class="emptyContentFavorites__img">ðŸ¥º</div>\n    <h3 class="emptyContentFavorites__title">Favorites not found</h3>\n    <p class="emptyContentFavorites__text">You have not added anything to favorites</p>\n    <div class=\'emptyContentFavorites__container__button\'>\n    <a href="index.html" class="emptyContentFavorites__button">Return</a>\n    </div>\n    </div>'}0===y.length?S():(k.insertAdjacentHTML("afterbegin",y.map((({title:e,images:t,price:n,id:a})=>{const s=e.slice(0,23)+"...";return`<li class='sneaker__item' id = "${a}">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src="${t[0]}" alt="${e}">\n</div>\n<h4 class='sneaker__title'>${s}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Price</p>\n        <p class='sneaker__price'>${n}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`})).join(" ")),(0,r.setFavoritesOnload)(),c()),(0,i.setActualPriceIntoHeader)();
//# sourceMappingURL=favorites.6f22ae71.js.map
