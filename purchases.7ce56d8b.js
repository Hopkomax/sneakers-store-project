!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequire7084;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire7084=s);const r=document.querySelector(".theme__switch");var a=s("gTT0W");a=s("gTT0W");var c=s("cEKo3");s("19hka");var o=s("aROVc");function i(){const e=localStorage.getItem("inCart");let t=localStorage.getItem("purchases");if(t=t?JSON.parse(t):[],e){const n=t.concat(JSON.parse(e));localStorage.setItem("purchases",JSON.stringify(n))}localStorage.removeItem("inCart"),document.querySelector(".cartList__container").innerHTML='\n    <div class="emptyContentOrder__wrapper" >\n    <div class="emptyContentOrder__img"></div>\n    <h3 class="emptyContentOrder__title">Order is processed!</h3>\n    <p class="emptyContentOrder__text">Your order will be delivered to courier soon</p>\n    <div class=\'emptyContentOrder__container__button\'>\n    <a href="index.html" class="emptyContentOrder__button">Return</a>\n    </div>\n    </div>'}function d(){document.querySelector(".cartList").innerHTML='\n  <div class="cartList__container">\n    <div class="cart__container__top__blok">\n    <h2 class="cartList__title">Cart</h2>\n    <ul class="cartList__list"></ul>\n</div>\n    <div class="cart__container__bottom__blok">\n      <div class="sneaker__inCart__totalAmount">\n        <p>Total</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="sneaker__inCart__taxes">\n        <p>VAT 5%</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class="cart__container__button__blok">\n        <button class="cart__container__button">Make order</button>\n      </div>\n    </div>\n  </div>';const e=document.querySelector(".cartList__list"),t=document.querySelector(".cart__container__button");e.addEventListener("click",o.handleDelete),t.addEventListener("click",i)}var l=s("sLsIj");c=s("cEKo3");s("19hka");let _=null;const u=document.querySelector("#modal-backdrop"),m=document.querySelector(".cartList");let p=null;function h(e){e.classList.remove("active"),u.classList.add("hidden"),document.body.style.overflow="visible"}document.addEventListener("click",(function(e){e.target.closest(".header__user__icon__cart")&&(d(),_=document.querySelector(".cartList__list"),m.classList.add("active"),u.classList.remove("hidden"),document.body.style.overflow="hidden",(0,a.setActualPriceIntoCart)(),p=c.db.firestore().collection("cart").where("userId","==",c.db.auth().currentUser.uid).onSnapshot((e=>{const t=e.docs.map((e=>e.data()))||[];if(console.log(t),0===t.length){document.querySelector(".cartList__container").innerHTML=(0,l.default)()}else _.innerHTML=t.map((({title:e,images:t,price:n,id:s})=>`\n      <li class='sneaker__inCart__item'id=${s}>\n      <img class='sneaker__inCart__img' src="${t[0]}" alt="${e}">\n      <div class='sneaker__inCart__description'>\n          <h3>${e}</h3>\n          <p>${n} UAH</p>\n      </div>\n      <div class='sneaker__inCart__button'>\n          <span class='sneaker__inCart__button-span'>x</span>\n      </div>\n  </li>`)).join(" ")}),(e=>{console.log("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:",e)})));e.target.matches("#modal-backdrop")&&(_.innerHTML="",h(m),(0,a.setActualPriceIntoHeader)(),c.db.firestore().collection("cart").where("userId","==",c.db.auth().currentUser.uid).onSnapshot((e=>{const t=e.docs.map((e=>e.data()))||[];document.querySelectorAll(".sneaker__add__button.active").forEach((e=>e.classList.remove("active")));for(const{id:e}of t){const t=document.getElementById(e);t&&t.querySelector(".sneaker__add__button").classList.add("active")}}),(e=>{console.log("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:",e)})))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&h(m)}));a=s("gTT0W");const v=document.querySelector(".purchasesList__list");!function(){const e=localStorage.getItem("theme");document.body.classList.add(e),"dark"===e&&(r.checked=!0)}(),(0,a.setActualPriceIntoHeader)(),document.querySelector(".theme__switch").addEventListener("change",(function(){console.log(r.checked),r.checked?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))}));const g=JSON.parse(localStorage.getItem("purchases"))||[];0===g.length?document.querySelector(".purchasesList__list").innerHTML='<div class="emptyContentPurchases__wrapper" >\n    <div class="emptyContentPurchases__img">ü•∫</div>\n    <h3 class="emptyContentPurchases__title">Purchases not found</h3>\n    <p class="emptyContentPurchases__text">You have not added anything to Purchases</p>\n    <div class=\'emptyContentPurchases__container__button\'>\n    <a href="index.html" class="emptyContentPurchases__button">Return</a>\n    </div>\n    </div>':v.insertAdjacentHTML("afterbegin",g.map((({title:e,images:t,price:n,id:s})=>`\n    <li class='sneaker__InPurchases__item'id=${s}>\n    <img class='sneaker__InPurchases__img' src="${t[0]}" alt="${e}">\n    <div class='sneaker__InPurchases__description'>\n        <h3>${e}</h3>\n        <p>${n} UAH</p>\n    </div>\n</li>`)).join(" "))}();
//# sourceMappingURL=purchases.7ce56d8b.js.map
