{"mappings":"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","sources":["src/api/api.js","src/js/handleCart.js","src/js/themeSwitch.js","src/js/createMarkupFunctions/createCartMarkup.js","src/js/createMarkupFunctions/createMakeOrderMarkup.js","src/js/displayCart.js","src/js/createMarkupFunctions/createSneakersMarkupInCart.js","src/js/favorites.js","src/js/createMarkupFunctions/createEmptyFavorites.js","src/js/createMarkupFunctions/createSneakersMarkup.js"],"sourcesContent":["import axios from \"axios\"\n\nconst BASE_URL = \"https://sneakers-store-project.onrender.com\";\nexport const getSneakers = async () => {\n    // variant 1\n    // const { data } = await axios.get('/contcts')\n    // return data;\n\n    // variant 2\n    // const data = await fetch(`${BASE_URL}/contacts`)\n    // return await data.json();\n\n    // variant 3\n    const response = await fetch(`${BASE_URL}/sneakers`);\n    return response.json();\n};\n\nexport const findSneakers = async (query) => {\n    // return fetch(`${BASE_URL}/sneakers?title_like=${query}`).then(response => response.json());\n    const response = await fetch(`${BASE_URL}/sneakers?title_like=${query}`);\n    return response.json();\n }\n\n export const getSneakerById = async (id) => {\n    const response = await fetch(`${BASE_URL}/sneakers/${id}`);\n    return response.json();\n }\n","import { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport {getSneakerById} from '../api/api';\n\nexport async function handleCart(event) {\n  const cart = event.target;\nconsole.log(cart);\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\nconsole.log(inCart);\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      console.log(updatedCart);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      console.log(cart);\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n\nexport function setInCartOnload() {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n  document\n    .querySelectorAll('.sneaker__add__button.active')\n    .forEach(item => item.classList.remove('active'));\n\n  for (const { id } of inCart) {\n    const item = document.getElementById(id);\n\n    if (!item) {\n      continue;\n    }\n    // Якщо item === null (getElementById(id) не знайшов такого елементу на сторінці), то ми пропустимо ту ітерацію, і йти до наступної (continue пропускає ітерацію)\n    const cartButton = item.querySelector('.sneaker__add__button');\n    cartButton.classList.add('active');\n  }\n}\n","const switchElement = document.querySelector('.theme__switch');\n\nexport function themeSwitch() {\n  console.log(switchElement.checked);\n  if (switchElement.checked) {\n    document.body.classList.add('dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.body.classList.remove('dark');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\nexport function setThemeOnLoad() {\n  const currentTheme = localStorage.getItem('theme');\n  document.body.classList.add(currentTheme);\n\n  if (currentTheme === 'dark') {\n    switchElement.checked = true;\n  }\n}\n","import { handleDelete } from '../deleteItemInCart';\nimport createMakeOrderMarkup from './createMakeOrderMarkup';\n\nexport default function createCartMarkup() {\n  document.querySelector('.cartList').innerHTML = `\n  <div class=\"cartList__container\">\n    <div class=\"cart__container__top__blok\">\n    <h2 class=\"cartList__title\">Cart</h2>\n    <ul class=\"cartList__list\"></ul>\n</div>\n    <div class=\"cart__container__bottom__blok\">\n      <div class=\"sneaker__inCart__totalAmount\">\n        <p>Total</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class=\"sneaker__inCart__taxes\">\n        <p>VAT 5%</p>\n        <span></span>\n        <p>UAH</p>\n      </div>\n      <div class=\"cart__container__button__blok\">\n        <button class=\"cart__container__button\">Make order</button>\n      </div>\n    </div>\n  </div>`;\n  \n  const cartList = document.querySelector('.cartList__list');\n  const makeOrderButton = document.querySelector('.cart__container__button');\n\n  cartList.addEventListener('click', handleDelete);\n  makeOrderButton.addEventListener('click', createMakeOrderMarkup);\n}\n","export default function createMakeOrderMarkup() {\n\n  const inCartItems = localStorage.getItem('inCart');\n  let purchasesItems = localStorage.getItem('purchases');\n\n  if (!purchasesItems) {\n    purchasesItems = []; // Initialize as an empty array if purchasesItems is null or empty\n  } else {\n    purchasesItems = JSON.parse(purchasesItems); // Parse the stringified array\n  }\n\n  if (inCartItems) {\n    const combinedItems = purchasesItems.concat(JSON.parse(inCartItems));\n    localStorage.setItem('purchases', JSON.stringify(combinedItems));\n  }\n\n  localStorage.removeItem('inCart');\n  document.querySelector('.cartList__container').innerHTML = `\n    <div class=\"emptyContentOrder__wrapper\" >\n    <div class=\"emptyContentOrder__img\"></div>\n    <h3 class=\"emptyContentOrder__title\">Order is processed!</h3>\n    <p class=\"emptyContentOrder__text\">Your order will be delivered to courier soon</p>\n    <div class='emptyContentOrder__container__button'>\n    <a href=\"index.html\" class=\"emptyContentOrder__button\">Return</a>\n    </div>\n    </div>`;\n\n}\n","import createSneakersMarkupInCart from './createMarkupFunctions/createSneakersMarkupInCart';\nimport { setActualPriceIntoCart, setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport createCartMarkup from './createMarkupFunctions/createCartMarkup';\nimport createEmptyCart from './createMarkupFunctions/createEmptyCart';\n\nlet list = null;\nconst backdrop = document.querySelector('#modal-backdrop');\nconst modalCart = document.querySelector('.cartList');\n\ndocument.addEventListener('click', modalHandler);\n\nexport function modalHandler(evt) {\n  const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n  const modalBtnOpen = evt.target.closest('.header__user__icon__cart');\n\n  if (modalBtnOpen) {\n    createCartMarkup();\n\n    list = document.querySelector('.cartList__list');\n  \n    // open btn click\n    showModal(modalCart);\n    setActualPriceIntoCart();\n\n    if (inCart.length === 0) {\n      const cart = document.querySelector('.cartList__container');\n      cart.innerHTML = createEmptyCart();\n    } else {\n      list.innerHTML = createSneakersMarkupInCart(inCart);\n    }\n  }\n\n  if (evt.target.matches('#modal-backdrop')) {\n    list.innerHTML = '';\n    hideModal(modalCart);\n    setActualPriceIntoHeader();\n    setInCartOnload();\n  }\n}\n\nexport function showModal(modalElem) {\n  modalElem.classList.add('active');\n  backdrop.classList.remove('hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nexport function hideModal(modalElem) {\n  modalElem.classList.remove('active');\n  backdrop.classList.add('hidden');\n  document.body.style.overflow = 'visible';\n}\n","export default function createSneakersMarkupInCart(items) {\n  const markup = items\n    .map(({ title, images, price, id }) => {\n      return `\n      <li class='sneaker__inCart__item'id=${id}>\n      <img class='sneaker__inCart__img' src=\"${images[0]}\" alt=\"${title}\">\n      <div class='sneaker__inCart__description'>\n          <h3>${title}</h3>\n          <p>${price} UAH</p>\n      </div>\n      <div class='sneaker__inCart__button'>\n          <span class='sneaker__inCart__button-span'>x</span>\n      </div>\n  </li>`;\n    })\n    .join(' ');\n  return markup;\n}\n","import createSneakersMarkup from './createMarkupFunctions/createSneakersMarkup';\nimport { setFavoritesOnload } from './handleFavorites';\nimport { createEmptyFavorites } from './createMarkupFunctions/createEmptyFavorites';\nimport { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport {getSneakerById} from '../api/api';\n\nimport { setActualPriceIntoHeader } from './calculateTotalPrice';\nimport { setInCartOnload } from './handleCart';\nimport { themeSwitch, setThemeOnLoad } from './themeSwitch';\nimport { modalHandler } from './displayCart';\nimport './mobileMenu';\nimport { openModal } from './handleAuthForm';\n\nsetThemeOnLoad();\n\ndocument.querySelector('.theme__switch').addEventListener('change', themeSwitch);\ndocument.addEventListener('click', modalHandler);\n\nconst userButton = document.querySelector('.header__user__icon__user');\nuserButton.addEventListener('click', openModal);\n\n\nconst list = document.querySelector('.favoritesList__list');\nlist.addEventListener('click', handleFavorites);\nlist.addEventListener('click', handleCart);\n\nconst favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\nif (favorites.length === 0) {\n  emptyFavorites();\n\n} else {\n  list.insertAdjacentHTML('afterbegin', createSneakersMarkup(favorites));\n  setFavoritesOnload();\n  setInCartOnload();\n}\n\nsetActualPriceIntoHeader();\n\nfunction emptyFavorites() {\n  const favoritesList = document.querySelector('.favoritesList__list');\n  favoritesList.innerHTML = createEmptyFavorites();\n}\n\nfunction handleFavorites(event) {\n  const heart = event.target;\n\n  if (heart.classList.contains('sneaker__heart__button')) {\n    const sneaker = heart.closest('li');\n    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n    if (heart.classList.contains('active')) {\n      const updatedFavorites = favorites.filter(({ id }) => id !== sneaker.id);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      heart.classList.remove('active');\n      sneaker.remove();\n    }\n  }\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n\n  if(favorites.length === 0) {\n    emptyFavorites();\n  }\n}\n\nasync function handleCart(event) {\n  const cart = event.target;\n\n  if (cart.classList.contains('sneaker__add__button')) {\n    const sneakerId = cart.parentNode.parentNode.id;\n    const selectedSneaker = await getSneakerById(sneakerId) || {};\n    const inCart = JSON.parse(localStorage.getItem('inCart')) || [];\n\n    if (cart.classList.contains('active')) {\n      const updatedCart = inCart.filter(({ id }) => id !== sneakerId);\n      localStorage.setItem('inCart', JSON.stringify(updatedCart));\n      cart.classList.remove('active');\n      setActualPriceIntoHeader();\n      return;\n    }\n    cart.classList.add('active');\n    inCart.push(selectedSneaker);\n    localStorage.setItem('inCart', JSON.stringify(inCart));\n    setActualPriceIntoHeader();\n  }\n}\n\n\n","export function createEmptyFavorites () {\n    return `<div class=\"emptyContentFavorites__wrapper\" >\n    <div class=\"emptyContentFavorites__img\">🥺</div>\n    <h3 class=\"emptyContentFavorites__title\">Favorites not found</h3>\n    <p class=\"emptyContentFavorites__text\">You have not added anything to favorites</p>\n    <div class='emptyContentFavorites__container__button'>\n    <a href=\"index.html\" class=\"emptyContentFavorites__button\">Return</a>\n    </div>\n    </div>`\n}\n","export default function createSneakersMarkup(items) {\n  const markup = items\n    .map(({ title, images, price, id }) => {\n      const formatedTitle = title.slice(0, 23) + '...';\n      return `<li class='sneaker__item' id = \"${id}\">\n    <div class='sneaker__img__wrapper'>\n    <div class='sneaker__heart__button'>\n</div>\n    <img src=\"${images[0]}\" alt=\"${title}\">\n</div>\n<h4 class='sneaker__title'>${formatedTitle}</h4>\n<div class='sneaker__price__container'>\n    <div class='sneaker__price__wrapper'>\n        <p class='sneaker__price__label'>Price</p>\n        <p class='sneaker__price'>${price}</p>\n    </div>\n    <div class='sneaker__add__button'>\n        <span class='sneaker__plus__span'></span>\n    </div>\n</div>\n</li>`;\n    })\n    .join(' ');\n  return markup;\n}\n"],"names":["$c52960a56fc4a999$var$BASE_URL","$c52960a56fc4a999$export$3ef7560edd391c4a","async","fetch","json","$c52960a56fc4a999$export$7d9f49ff9b9deb6b","query","$c52960a56fc4a999$export$a99e8a841c7e62c1","id","$te3Zi","parcelRequire","$d25d265696de3f12$export$f43df08f77b54999","inCart","JSON","parse","localStorage","getItem","document","querySelectorAll","forEach","item","classList","remove","getElementById","querySelector","add","$1b1e4a360cab98fb$var$switchElement","$3kuOs","$aaec97982fa00c83$export$2e2bcd8739ae039","inCartItems","purchasesItems","combinedItems","concat","setItem","stringify","removeItem","innerHTML","$bedb3faf0d0f7aa0$export$2e2bcd8739ae039","cartList","makeOrderButton","addEventListener","handleDelete","$605e9aa5eae9b054$var$list","$605e9aa5eae9b054$var$backdrop","$605e9aa5eae9b054$var$modalCart","$605e9aa5eae9b054$export$ea6ae64fa989b7ac","evt","target","closest","body","style","overflow","setActualPriceIntoCart","length","$rXRcA","default","map","title","images","price","join","matches","modalElem","$605e9aa5eae9b054$export$af4939467128bcd0","setActualPriceIntoHeader","currentTheme","checked","console","log","$YKZfX","openModal","$7f07f86ee49d81c7$var$list","event","heart","contains","sneaker","favorites","updatedFavorites","filter","$7f07f86ee49d81c7$var$emptyFavorites","cart","sneakerId","parentNode","selectedSneaker","$gVub0","getSneakerById","updatedCart","push","$7f07f86ee49d81c7$var$favorites","insertAdjacentHTML","formatedTitle","slice","$l1ee7","setFavoritesOnload"],"version":3,"file":"favorites.6f22ae71.js.map"}